{% for language in set_languages %}
<div class="row" style="margin-bottom:10px;">
    <div class="col-sm-6">
        <div class="input-group">
            <div class="input-group-addon"><img src="language/{{ language.code }}/{{ language.code }}.png" title="{{ language.name }}"/>&nbsp;{{ language.name }}</div>
            <input type="text" disabled id="lang_url_keyword{{ language.language_id }}" class="form-control" value="{{ language.keyword }}">
            <div class="input-group-addon btn btn-info" id="langupdate-button{{ language.language_id }}" onclick="updateLanguage('{{ language.language_id }}');"><i class="fa fa-save"></i>&nbsp;{{ button_save }}</div>   
        </div>
    </div>

     <div class="col-sm-6">
        {% if language.row_status %}
            <div style="color:green;"><i class="fa fa-check"></i></div>
        {% else %}
            <div style="color:red;"><i class="fa fa-circle-exclamation"></i>&nbsp;{{ error_language_keyword_not_found }}</div>
        {% endif %}
     </div>
</div>
{% endfor %}


<script type="text/javascript">
function updateLanguage(language_id) {
    $('.alert-dismissible').remove(); 
    
    var keyword = $('#lang_url_keyword'+language_id).val();

    $.ajax({
        type: 'post',
        url: 'index.php?route={{ base_route }}/hb_seourl/update_language_keyword&user_token={{ user_token }}&store_id={{ store_id }}',
        data: {language_id: language_id, keyword: keyword},
        dataType: 'json',	
        beforeSend: function () {
            $('#langupdate-button'+language_id).button('loading');
        },	
        complete: function () {
            $('#langupdate-button'+language_id).button('reset');
        },
        success: function(json) {
            if (json['success']) {
                $('#msgoutput').html('<div class="alert alert-success"><i class="fa fa-check"></i>&nbsp;' + json['success'] + '<button type="button" class="close" data-dismiss="alert">&times;</button></div>');
                    loadBlock('languages');
            }
            if (json['error']) {
                $('#msgoutput').html('<div class="alert alert-danger">' + json['error'] + '<button type="button" class="close" data-dismiss="alert">&times;</button></div>');
            }
        },			
        error: function(xhr, ajaxOptions, thrownError) { alert(thrownError + "\r\n" + xhr.statusText + "\r\n" + xhr.responseText); }
    });
}

</script>